{"version":3,"sources":["utils/config.js","utils/near.js","components/Wallet.js","components/marketplace/AddProduct.js","components/marketplace/BidModal.js","components/marketplace/ProductDetails.js","components/marketplace/Product.js","components/utils/Loader.js","components/utils/Notifications.js","utils/marketplace.js","components/marketplace/Products.js","components/utils/Cover.js","assets/sandwich.jpg","components/marketplace/Profile.js","App.js","reportWebVitals.js","index.js"],"names":["CONTRACT_NAME","process","nearEnv","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","concat","environment","async","login","console","log","window","walletConnection","requestSignIn","contractId","successUrl","location","origin","isSignedIn","logout","signOut","reload","Wallet","_ref","address","amount","symbol","destroy","_jsx","_Fragment","children","_jsxs","Dropdown","Toggle","variant","align","id","className","Spinner","animation","size","Menu","Item","href","target","Stack","direction","gap","Divider","as","onClick","AddProduct","save","name","setName","useState","image","setImage","description","setDescription","duration","setLDuration","price","setPrice","show","setShow","handleClose","Button","handleShow","style","width","class","Modal","onHide","centered","Header","closeButton","Title","Form","Body","FloatingLabel","controlId","label","Control","type","onChange","e","value","placeholder","height","Footer","disabled","created","Date","now","toString","BidModal","bid","product","bidAmount","setBid","formattedPrice","utils","format","formatNearAmount","formattedBid","isFormFilled","triggerBid","alert","ProductDetails","productDetails","showProductDetails","setShowProductDetails","sold","owner","bidders","bids","daysOfTheWeek","monthsOfTheYear","bidEndTimestamp","Number","endTime","createdTime","formattedTime","time","getHours","getMinutes","getSeconds","formattedDate","date","getDay","getDate","getMonth","getFullYear","position","zIndex","top","left","minHeight","paddingTop","margin","cursor","fontSize","borderWidth","borderColor","borderStyle","padding","borderRadius","backgroundColor","src","alt","objectFit","textAlign","toUpperCase","length","biddersDetails","details","i","eachBidders","bidder","push","map","index","Product","withdraw","Math","round","isEnded","isOwner","getAccountId","accountId","triggerWithdraw","Col","Card","Badge","bg","Text","bidButton","Loader","role","Notification","text","border","paddingBlock","textTransform","NotificationSuccess","_ref2","NotificationError","_ref3","GAS","createProduct","uuid4","parseNearAmount","contract","setProduct","getProducts","withdrawBid","Products","products","setProducts","loading","setLoading","uploading","setUploading","success","setSuccess","error","setError","useCallback","getProductList","nearPrice","placeBid","productId","then","resp","useEffect","data","Row","xs","sm","lg","_product","Cover","coverImg","background","maxWidth","account","defaultProps","Profile","user","userProducts","forEach","App","profile","setProfile","home","setHome","balance","setBalance","getBalance","getAccountBalance","total","accountBalance","Container","fluid","Nav","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","near","connect","Object","assign","keyStore","keyStores","BrowserLocalStorageKeyStore","WalletConnection","Contract","viewMethods","changeMethods","initializeContract","ReactDOM","render","React","StrictMode","document","getElementById","catch"],"mappings":"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","file":"static/js/main.46c962fe.chunk.js","sourcesContent":["export const CONTRACT_NAME =\r\n  process.env.CONTRACT_NAME || \"mycontract.ozo_vehe.testnet\"; // line 1\r\n\r\nexport function environment(env) {\r\n  switch (env) {\r\n    case \"mainnet\": // line 5\r\n      return {\r\n        networkId: \"mainnet\",\r\n        nodeUrl: \"https://rpc.mainnet.near.org\",\r\n        contractName: CONTRACT_NAME,\r\n        walletUrl: \"https://wallet.near.org\",\r\n        helperUrl: \"https://helper.mainnet.near.org\",\r\n        explorerUrl: \"https://explorer.mainnet.near.org\",\r\n      };\r\n    case \"testnet\": // line 14\r\n      return {\r\n        networkId: \"testnet\",\r\n        nodeUrl: \"https://rpc.testnet.near.org\",\r\n        // contractName: CONTRACT_NAME,\r\n        // walletUrl: \"https://wallet.testnet.near.org\",\r\n        // helperUrl: \"https://helper.testnet.near.org\",\r\n        // explorerUrl: \"https://explorer.testnet.near.org\",\r\n        walletUrl: \"https://testnet.mynearwallet.com/\",\r\n        helperUrl: \"https://helper.testnet.near.org\",\r\n        explorerUrl: \"https://testnet.nearblocks.io\",\r\n      };\r\n    default:\r\n      throw Error(`Unknown environment '${env}'.`);\r\n  }\r\n}\r\n","import {environment, CONTRACT_NAME} from \"./config\";\r\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\r\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\r\n\r\nconst nearEnv = environment(\"testnet\");\r\n\r\nexport async function initializeContract() {\r\n  const near = await connect(\r\n    Object.assign(\r\n      { keyStore: new keyStores.BrowserLocalStorageKeyStore() },\r\n      nearEnv\r\n    )\r\n  );\r\n  window.walletConnection = new WalletConnection(near, \"mycontract.ozo_vehe.testnet\");\r\n  window.accountId = window.walletConnection.getAccountId();\r\n\r\n  if(window.walletConnection.account()) {\r\n    window.contract = new Contract(\r\n      window.walletConnection.account(),\r\n      CONTRACT_NAME,\r\n      {\r\n        viewMethods: [\"getProduct\", \"getProducts\", \"getHighestBid\", \"getHighestBidder\"],\r\n        changeMethods: [\"placeBid\", \"setProduct\", \"withdrawBid\"],\r\n      }\r\n    );\r\n  };\r\n}\r\n\r\nexport async function accountBalance() {\r\n  return formatNearAmount(\r\n    (await window.walletConnection.account().getAccountBalance()).total,\r\n    2\r\n  );\r\n}\r\n\r\nexport async function getAccountId() {\r\n  return window.walletConnection.getAccountId();\r\n}\r\n\r\nexport async function login() {\r\n  console.log(\"Login in near\")\r\n  window.walletConnection.requestSignIn({\r\n    contractId: nearEnv.contractName,\r\n    successUrl: window.location.origin,\r\n  });\r\n  if(window.walletConnection.isSignedIn()) {\r\n    // window.location.reload();\r\n    console.log(\"Logged in\");\r\n  }\r\n  else {\r\n    console.log(\"Not logged in\");\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  window.walletConnection.signOut();\r\n  window.location.reload();\r\n}","import React from \"react\";\r\nimport { Dropdown, Stack, Spinner } from \"react-bootstrap\";\r\n\r\nconst Wallet = ({ address, amount, symbol, destroy }) => {\r\n  if (address) {\r\n    return (\r\n      <>\r\n        <Dropdown>\r\n          <Dropdown.Toggle\r\n            variant=\"light\"\r\n            align=\"end\"\r\n            id=\"dropdown-basic\"\r\n            className=\"d-flex align-items-center border rounded-pill py-1\"\r\n          >\r\n            {amount ? (\r\n              <>\r\n                {amount} <span className=\"ms-1\"> {symbol}</span>\r\n              </>\r\n            ) : (\r\n              <Spinner animation=\"border\" size=\"sm\" className=\"opacity-25\" />\r\n            )}\r\n          </Dropdown.Toggle>\r\n\r\n          <Dropdown.Menu className=\"shadow-lg border-0\">\r\n            <Dropdown.Item\r\n              href={`https://explorer.testnet.near.org/accounts/${address}`}\r\n              target=\"_blank\"\r\n            >\r\n              <Stack direction=\"horizontal\" gap={2}>\r\n                <i className=\"bi bi-person-circle fs-4\" />\r\n                <span className=\"font-monospace\">{address}</span>\r\n              </Stack>\r\n            </Dropdown.Item>\r\n\r\n            <Dropdown.Divider />\r\n            <Dropdown.Item\r\n              as=\"button\"\r\n              className=\"d-flex align-items-center\"\r\n              onClick={() => {\r\n                destroy();\r\n              }}\r\n            >\r\n              <i className=\"bi bi-box-arrow-right me-2 fs-4\" />\r\n              Disconnect\r\n            </Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default Wallet;","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button, Modal, Form, FloatingLabel } from \"react-bootstrap\";\r\n\r\nconst AddProduct = ({ save }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [duration, setLDuration] = useState(\"\");\r\n  const [price, setPrice] = useState(0);\r\n  const isFormFilled = () => name && image && description && duration && price;\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        onClick={handleShow}\r\n        variant=\"dark\"\r\n        className=\"rounded-pill px-0\"\r\n        style={{ width: \"38px\" }}\r\n      >\r\n        <i class=\"bi bi-plus\"></i>\r\n      </Button>\r\n      <Modal show={show} onHide={handleClose} centered>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>New Product</Modal.Title>\r\n        </Modal.Header>\r\n        <Form>\r\n          <Modal.Body>\r\n            <FloatingLabel\r\n              controlId=\"inputName\"\r\n              label=\"Product name\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n                placeholder=\"Enter name of product\"\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputUrl\"\r\n              label=\"Image URL\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Image URL\"\r\n                onChange={(e) => {\r\n                  setImage(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputDescription\"\r\n              label=\"Description\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                as=\"textarea\"\r\n                placeholder=\"description\"\r\n                style={{ height: \"80px\" }}\r\n                onChange={(e) => {\r\n                  setDescription(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputDuration\"\r\n              label=\"Duration (in minutes)\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Duration\"\r\n                onChange={(e) => {\r\n                  setLDuration(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n            <FloatingLabel\r\n              controlId=\"inputPrice\"\r\n              label=\"Price\"\r\n              className=\"mb-3\"\r\n            >\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Price\"\r\n                onChange={(e) => {\r\n                  setPrice(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n          </Modal.Body>\r\n        </Form>\r\n        <Modal.Footer>\r\n          <Button variant=\"outline-secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            variant=\"dark\"\r\n            disabled={!isFormFilled()}\r\n            onClick={() => {\r\n              save({\r\n                name,\r\n                image,\r\n                description,\r\n                duration,\r\n                price,\r\n                created: (Date.now()).toString()\r\n              });\r\n              handleClose();\r\n            }}\r\n          >\r\n            Save product\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nAddProduct.propTypes = {\r\n  save: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { utils } from \"near-api-js\";\r\nimport { Button, Modal, Form, FloatingLabel } from \"react-bootstrap\";\r\n\r\nconst BidModal = ({ bid, product }) => {\r\n  const [bidAmount, setBid] = useState(0);\r\n  const formattedPrice = utils.format.formatNearAmount(product.price);\r\n  const formattedBid = product.bid && utils.format.formatNearAmount(product.bid);\r\n\r\n  const isFormFilled = () => bidAmount > formattedBid && bidAmount > formattedPrice;\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const triggerBid = () => {\r\n    console.log(isFormFilled());\r\n    if(isFormFilled()) bid(product.id, bidAmount);\r\n    else alert(\"Bid should be higher then the current bid amount\")\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        variant=\"outline-dark\"\r\n        onClick={handleShow}\r\n        className=\"w-100 py-3\"\r\n      >\r\n        Place Bid\r\n      </Button>\r\n      <Modal show={show} onHide={handleClose} centered>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Bid Modal</Modal.Title>\r\n        </Modal.Header>\r\n        <Form>\r\n          <Modal.Header>\r\n            <p className=\"p-0 m-0\">{`Highest Bid: ${product.bid ? formattedBid : formattedPrice} NEAR`}</p>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <FloatingLabel controlId=\"inputBid\" label=\"Bid\" className=\"mb-3\">\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Bid\"\r\n                onChange={(e) => {\r\n                  setBid(e.target.value);\r\n                }}\r\n              />\r\n            </FloatingLabel>\r\n          </Modal.Body>\r\n        </Form>\r\n        <Modal.Footer>\r\n          <Button variant=\"outline-secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            variant=\"dark\"\r\n            disabled={!isFormFilled()}\r\n            onClick={triggerBid}\r\n          >\r\n            Bid\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nBidModal.propTypes = {\r\n  bid: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BidModal;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { utils } from \"near-api-js\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst ProductDetails = ({ product, productDetails }) => {\r\n  const [showProductDetails, setShowProductDetails] = useState(false);\r\n  const {\r\n    id,\r\n    name,\r\n    description,\r\n    sold,\r\n    image,\r\n    owner,\r\n    price,\r\n    bidders,\r\n    bids,\r\n    created,\r\n  } = product;\r\n  console.log(product);\r\n  const daysOfTheWeek = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n  const monthsOfTheYear = [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\",\r\n  ];\r\n\r\n  const bidEndTimestamp =\r\n    Number(product.created) + Number(product.duration) * 60000;\r\n  const endTime = new Date(Number(bidEndTimestamp));\r\n  const createdTime = new Date(Number(created));\r\n\r\n  const formattedTime = (time) => {\r\n    return `${time.getHours()}:${time.getMinutes()}:${time.getSeconds()}`;\r\n  };\r\n  const formattedDate = (date) => {\r\n    return `${daysOfTheWeek[date.getDay()]} ${date.getDate()} ${\r\n      monthsOfTheYear[date.getMonth()]\r\n    }, ${date.getFullYear()}`;\r\n  };\r\n\r\n  // console.log(formattedTime, formattedDate);\r\n\r\n  const biddersDetails = () => {\r\n    let details = [];\r\n    for (let i = 0; i < bidders.length; i++) {\r\n      let eachBidders = {};\r\n      eachBidders.bidder = bidders[i];\r\n      eachBidders.bid = bids[i];\r\n\r\n      details.push(eachBidders);\r\n    }\r\n    return details;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        variant=\"outline-dark\"\r\n        onClick={() => setShowProductDetails(!showProductDetails)}\r\n        className=\"w-100 py-3\"\r\n      >\r\n        See more\r\n      </Button>\r\n      <div\r\n        style={{\r\n          position: \"fixed\",\r\n          zIndex: 10,\r\n          top: \"0px\",\r\n          left: \"0px\",\r\n          width: \"100%\",\r\n          minHeight: \"100vh\",\r\n          paddingTop: \"20px\",\r\n          margin: \"0px\",\r\n        }}\r\n        className={`d-flex justify-content-start flex-column align-items-center bg-light ${\r\n          showProductDetails ? \"d-flex\" : \"d-none\"\r\n        }`}\r\n      >\r\n        <p\r\n          onClick={() => setShowProductDetails(!showProductDetails)}\r\n          style={{\r\n            cursor: \"pointer\",\r\n            fontSize: \"16px\",\r\n            borderWidth: 1,\r\n            borderColor: \"black\",\r\n            borderStyle: \"solid\",\r\n            padding: \"5px 25px\",\r\n            borderRadius: \"5px\",\r\n            backgroundColor: \"white\",\r\n          }}\r\n        >\r\n          Back\r\n        </p>\r\n        <div key={id}>\r\n          <div className=\"\">\r\n            <img\r\n              src={image}\r\n              width={400}\r\n              height={300}\r\n              alt={name}\r\n              style={{ objectFit: \"cover\" }}\r\n            />\r\n          </div>\r\n          <div className=\"mt-4\" style={{ width: \"400px\", textAlign: \"left\" }}>\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <td>Product ID:</td>\r\n                  <td>{id}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Owner:</td>\r\n                  <td>{owner}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Name:</td>\r\n                  <td>{name}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Description:</td>\r\n                  <td>{description}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Created:</td>\r\n                  <td>\r\n                    {formattedDate(createdTime)} {formattedTime(createdTime)}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Ends:</td>\r\n                  <td>\r\n                    {formattedDate(endTime)} {formattedTime(endTime)}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Duration:</td>\r\n                  <td>{product.duration} minutes</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Price:</td>\r\n                  <td>{utils.format.formatNearAmount(price)} NEAR</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Sold:</td>\r\n                  <td>{sold.toString().toUpperCase()}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Bidders:</td>\r\n                  <td>\r\n                    <table className=\"border w-100\">\r\n                      <thead>\r\n                        <th>Bidder</th>\r\n                        <th>Bid</th>\r\n                      </thead>\r\n                      <tbody className=\"border\">\r\n                        {bidders.length > 0 ? (\r\n                          <>\r\n                            {biddersDetails().map((bidder, index) => (\r\n                              <tr key={index}>\r\n                                <td>{bidder.bidder}</td>\r\n                                <td>\r\n                                  {utils.format.formatNearAmount(bidder.bid)}{\" \"}\r\n                                  NEAR\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n                          </>\r\n                        ) : (\r\n                          <p className=\"m-0\">No bidders</p>\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nProductDetails.propTypes = {\r\n  product: PropTypes.instanceOf(Object).isRequired,\r\n};\r\n\r\nexport default ProductDetails;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { utils } from \"near-api-js\";\r\nimport { Card, Button, Col, Badge, Stack } from \"react-bootstrap\";\r\nimport BidModal from \"./BidModal\";\r\nimport ProductDetails from \"./ProductDetails\";\r\n\r\nconst Product = ({ product, bid, withdraw }) => {\r\n  const { id, name, description, sold, image, owner, created, duration } = product;\r\n  console.log(product);\r\n  const bidEndTimestamp =\r\n    Number(created) + Number(duration) * 60000;\r\n  // console.log(bidEndTimestamp, Date.now())\r\n  const time = Math.round((bidEndTimestamp - Date.now()) / 1000 / 60);\r\n  const isEnded = time < 0;\r\n  const isOwner = owner === window.walletConnection.getAccountId();\r\n  console.log(window.accountId);\r\n\r\n  const triggerWithdraw = () => {\r\n    if(product.bid <=0) {\r\n      alert(\"No bid to withdraw\");\r\n      return;\r\n    }\r\n    withdraw(id);\r\n  };\r\n\r\n  const bidButton = () => {\r\n    if (isOwner) {\r\n      if (isEnded && !sold) {\r\n        return (\r\n          <Button\r\n            variant=\"outline-dark\"\r\n            onClick={triggerWithdraw}\r\n            className=\"w-100 py-3\"\r\n          >\r\n            Withdraw bid\r\n          </Button>\r\n        );\r\n      }\r\n    } else if (!isOwner) {\r\n      console.log(isOwner)\r\n      if (!isEnded) {\r\n        return <BidModal bid={bid} product={product} />;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n        <Col key={id}>\r\n          <Card className=\" h-100\">\r\n            <Card.Header>\r\n              <Stack\r\n                className=\"d-flex flex-wrap\"\r\n                direction=\"horizontal\"\r\n                gap={2}\r\n              >\r\n                <span className=\"font-monospace text-secondary\">\r\n                  Owner: {owner}\r\n                </span>\r\n                <Badge bg=\"secondary\" className=\"ms-auto\">\r\n                  {sold && <>Sold</>}\r\n                </Badge>\r\n                {!sold && (\r\n                  <div className=\"w-100 d-flex flex-wrap justify-content-between\">\r\n                    <span className=\"font-monospace text-secondary\">\r\n                      Highest bid:{\" \"}\r\n                      {product.bid\r\n                        ? `${utils.format.formatNearAmount(product.bid)} NEAR`\r\n                        : 0}\r\n                    </span>\r\n                    <span className=\"font-monospace text-secondary\">\r\n                      {isEnded ? \"Bid ended\" : `Time left: ${time} minutues`}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </Stack>\r\n            </Card.Header>\r\n            <div className=\" ratio ratio-4x3\">\r\n              <img src={image} alt={name} style={{ objectFit: \"cover\" }} />\r\n            </div>\r\n            <Card.Body className=\"d-flex  flex-column text-center\">\r\n              <Card.Title>{name}</Card.Title>\r\n              <Card.Text className=\"flex-grow-1 \">{description}</Card.Text>\r\n              <div className=\"d-flex gap-4 align-items-center justify-content-center\">\r\n                {bidButton()}\r\n                <ProductDetails product={product} />\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n  );\r\n};\r\n\r\nProduct.propTypes = {\r\n  product: PropTypes.instanceOf(Object).isRequired,\r\n};\r\n\r\nexport default Product;\r\n","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nconst Loader = () => (\r\n  <div className=\"d-flex justify-content-center\">\r\n    <Spinner animation=\"border\" role=\"status\" className=\"opacity-25\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </Spinner>\r\n  </div>\r\n);\r\nexport default Loader;","const Notification = ({ text }) => (\r\n  <div style={{position: \"fixed\", top: \"0px\", backgroundColor: \"white\", border: \"thin solid black\", width: \"300px\", paddingBlock: \"10px\", textTransform: \"capitalize\"}}>\r\n    <i className=\"bi bi-check-circle-fill mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nconst NotificationSuccess = ({ text }) => (\r\n  <div style={{position: \"fixed\", top: \"0px\", backgroundColor: \"white\", border: \"thin solid black\", width: \"300px\", paddingBlock: \"10px\", textTransform: \"capitalize\"}}>\r\n    <i className=\"bi bi-check-circle-fill text-success mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nconst NotificationError = ({ text }) => (\r\n  <div style={{position: \"fixed\", top: \"0px\", backgroundColor: \"white\", border: \"thin solid black\", width: \"300px\", paddingBlock: \"10px\", textTransform: \"capitalize\"}}>\r\n    <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\r\n    <span className=\"text-secondary mx-1\">{text}</span>\r\n  </div>\r\n);\r\n\r\nexport { Notification, NotificationSuccess, NotificationError };","import { v4 as uuid4 } from \"uuid\";\r\nimport { parseNearAmount } from \"near-api-js/lib/utils/format\";\r\n\r\nconst GAS = 100000000000000;\r\n\r\nexport function createProduct(product) {\r\n  product.id = uuid4();\r\n  product.price = parseNearAmount(product.price + \"\");\r\n  return window.contract.setProduct({ product });\r\n}\r\n\r\nexport function getProducts() {\r\n  return window.contract.getProducts();\r\n}\r\n\r\nexport async function placeBid({ id, price }) {\r\n  console.log(\"Placing bid on marketplace.js...\")\r\n  // console.log(window.contract)\r\n  const nearPrice = parseNearAmount(price + \"\");\r\n  // console.log(nearPrice)\r\n  await window.contract.placeBid({ productId: id }, GAS, nearPrice);\r\n}\r\n\r\nexport async function withdrawBid({ id }) {\r\n  await window.contract.withdrawBid({ id }, GAS);\r\n  console.log(\"Withdraw bid...\")\r\n}\r\n\r\nexport async function getProductBidders({ id }) {\r\n  return window.contract.getBidders({ id });\r\n}\r\n\r\nexport async function getProductBids({ id }) {\r\n  return window.contract.getBids({ id });\r\n}","import React, { useEffect, useState, useCallback } from \"react\";\r\n// import { toast } from \"react-toastify\";\r\nimport AddProduct from \"./AddProduct\";\r\nimport Product from \"./Product\";\r\nimport Loader from \"../utils/Loader\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport { NotificationSuccess, NotificationError, Notification } from \"../utils/Notifications\";\r\nimport {\r\n  getProducts as getProductList,\r\n  placeBid,\r\n  createProduct,\r\n  withdrawBid,\r\n} from \"../../utils/marketplace\";\r\n\r\nconst Products = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [error, setError] = useState(false);\r\n\r\n  const getProducts = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      setProducts(await getProductList());\r\n    } catch (error) {\r\n      console.log({ error });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const addProduct = async (data) => {\r\n    console.log(data);\r\n    try {\r\n      setLoading(true);\r\n      createProduct(data).then((resp) => {\r\n        getProducts();\r\n      });\r\n    } catch (error) {\r\n      console.log({ error });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const bid = async (id, price) => {\r\n    console.log(\"Placing bid...\");\r\n    try {\r\n      setUploading(true);\r\n      await placeBid({\r\n        id,\r\n        price,\r\n      }).then((resp) => getProducts());\r\n      console.log(\"Bid placed successfully\");\r\n      \r\n    } catch (error) {\r\n      // <NotificationError text=\"Failed to purchase product.\" />;\r\n      setError(true);\r\n    } finally {\r\n      setLoading(false);\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const withdraw = async (id) => {\r\n    try {\r\n      await withdrawBid({\r\n        id,\r\n      }).then((resp) => getProducts());\r\n      // <NotificationSuccess text=\"Product bought successfully\" />;\r\n    } catch (error) {\r\n      // <NotificationError text=\"Failed to purchase product.\" />;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {!loading ? (\r\n        <>\r\n          {uploading && <Notification text={\"uploading product\"} />}\r\n          {success && <NotificationSuccess text={\"Bid placed successfully\"} />}\r\n          {error && <NotificationError text={\"Failed to purchase product.\"} />}\r\n\r\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n            <h1 className=\"fs-4 fw-bold mb-0\">Street Food</h1>\r\n            <AddProduct save={addProduct} />\r\n          </div>\r\n          <Row xs={1} sm={2} lg={3} className=\"g-3 mb-5 g-xl-4 g-xxl-5\">\r\n            {products.map((_product) => (\r\n              <Product\r\n                key={_product.id}\r\n                product={{\r\n                  ..._product,\r\n                }}\r\n                bid={bid}\r\n                withdraw={withdraw}\r\n              />\r\n            ))}\r\n          </Row>\r\n        </>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst Cover = ({ name, login, coverImg }) => {\r\n  if ((name, login, coverImg)) {\r\n    return (\r\n      <div\r\n        className=\"d-flex justify-content-center flex-column text-center \"\r\n        style={{ background: \"#000\", minHeight: \"100vh\" }}\r\n      >\r\n        <div className=\"mt-auto text-light mb-5\">\r\n          <div\r\n            className=\" ratio ratio-1x1 mx-auto mb-2\"\r\n            style={{ maxWidth: \"320px\" }}\r\n          >\r\n            <img src={coverImg} alt=\"\" />\r\n          </div>\r\n          <h1>{name}</h1>\r\n          <p>Please connect your wallet to continue.</p>\r\n          <Button\r\n            onClick={() => {\r\n              login()\r\n              console.log(\"Wallet before\")\r\n              console.log(window.walletConnection.account().accountId)\r\n              console.log(\"Wallet after\")\r\n            }}\r\n            variant=\"outline-light\"\r\n            className=\"rounded-pill px-3 mt-3\"\r\n          >\r\n            Connect Wallet\r\n          </Button>\r\n        </div>\r\n        <p className=\"mt-auto text-secondary\">Powered by NEAR</p>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nCover.propTypes = {\r\n  name: PropTypes.string,\r\n};\r\n\r\nCover.defaultProps = {\r\n  name: \"\",\r\n};\r\n\r\nexport default Cover;","export default __webpack_public_path__ + \"static/media/sandwich.2d312449.jpg\";","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport AddProduct from \"./AddProduct\";\r\nimport Product from \"./Product\";\r\nimport Loader from \"../utils/Loader\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport {\r\n  getProducts as getProductList,\r\n  createProduct,\r\n  withdrawBid,\r\n} from \"../../utils/marketplace\";\r\n\r\nconst Profile = ({ user }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const getProducts = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const products = await getProductList();\r\n      const userProducts = [];\r\n      products.forEach((product) => {\r\n        if (product.owner === user) {\r\n          userProducts.push(product);\r\n        }\r\n      });\r\n      setProducts(userProducts);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const addProduct = async (data) => {\r\n    console.log(data);\r\n    try {\r\n      setLoading(true);\r\n      createProduct(data).then((resp) => {\r\n        getProducts();\r\n      });\r\n      // <NotificationSuccess text=\"Product added successfully.\" />;\r\n    } catch (error) {\r\n      console.log({ error });\r\n      // <NotificationError text=\"Failed to create a product.\" />;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const withdraw = async (id) => {\r\n    try {\r\n      await withdrawBid({\r\n        id,\r\n      }).then((resp) => getProducts());\r\n      // <NotificationSuccess text=\"Product bought successfully\" />;\r\n    } catch (error) {\r\n      // <NotificationError text=\"Failed to purchase product.\" />;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {!loading ? (\r\n        <>\r\n          <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n            <h1 className=\"fs-4 fw-bold mb-0\">{user}</h1>\r\n            <AddProduct save={addProduct} />\r\n          </div>\r\n          {products.length > 0 ? (\r\n            <Row xs={1} sm={2} lg={3} className=\"g-3 mb-5 g-xl-4 g-xxl-5\">\r\n              {products.map((_product) => (\r\n                <Product\r\n                  product={{\r\n                    ..._product,\r\n                  }}\r\n                  withdraw={withdraw}\r\n                />\r\n              ))}\r\n            </Row>\r\n          ) : (\r\n            <p className=\"fs-5\">No products available</p>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { Container, Nav } from \"react-bootstrap\";\nimport { login, logout as destroy, accountBalance } from \"./utils/near\";\nimport Wallet from \"./components/Wallet\";\n// import { Notification } from \"./components/utils/Notifications\";\nimport Products from \"./components/marketplace/Products\";\nimport Cover from \"./components/utils/Cover\";\nimport coverImg from \"./assets/sandwich.jpg\";\nimport \"./App.css\";\nimport Profile from \"./components/marketplace/Profile\";\n\nconst App = function AppWrapper() {\n  const [profile, setProfile] = useState(false);\n  const [home, setHome] = useState(true);\n\n  const account = window.walletConnection.account();\n  const [balance, setBalance] = useState(\"0\");\n  const getBalance = useCallback(async () => {\n    if (account.accountId) {\n      setBalance(await accountBalance());\n    }\n  });\n\n  useEffect(() => {\n    getBalance();\n  }, [getBalance]);\n\n  return (\n    <>\n      {/* <Notification /> */}\n      {account.accountId ? (\n        <Container fluid=\"md\">\n          <Nav className=\"justify-content-end align-items-center gap-4 pt-3 pb-5\">\n            <Nav.Item>\n              <button\n                onClick={() => {\n                  setProfile(false);\n                  setHome(true);\n                }}\n                type=\"button\"\n                className=\"border px-3 py-1 rounded-pill btn btn-outline-dark\"\n              >\n                Home\n              </button>\n            </Nav.Item>\n            <Nav.Item>\n              <button\n                onClick={() => {\n                  setProfile(true);\n                  setHome(false);\n                }}\n                type=\"button\"\n                className=\"border px-3 py-1 rounded-pill btn btn-outline-dark\"\n              >\n                Profile\n              </button>\n            </Nav.Item>\n            <Nav.Item>\n              <Wallet\n                address={account.accountId}\n                amount={balance}\n                symbol=\"NEAR\"\n                destroy={destroy}\n              />\n            </Nav.Item>\n          </Nav>\n          <main>\n            {profile && <Profile user={account.accountId} />}\n            {home && <Products />}\n          </main>\n        </Container>\n      ) : (\n        <Cover name=\"Street Food\" login={login} coverImg={coverImg} />\n      )}\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { initializeContract } from \"./utils/near\";\n\nimport \"bootstrap\";\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nwindow.nearInitPromise = initializeContract()\n  .then(() => {\n    ReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n      document.getElementById(\"root\")\n    );\n  })\n  .catch(console.error);\n\nreportWebVitals();"],"sourceRoot":""}